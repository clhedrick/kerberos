rpcgen -M -N -C -a rquota.x

dnf install libtirpc-devel
also needs zfs development enviornment
  for Ubuntu this is apt install libzfslinux-dev
  for redhat I did it on my zfs build system

edit Makefile. added tirpc and libzfs. removed libnsl, which no
longer exists
  CFLAGS += -g -I /usr/include/tirpc -I /usr/include/libzfs -I /usr/include/libspl
  LDLIBS += -ltirpc -lpthread -lzfs

Mostly this is code from rpcgen.
Lines I added or changed are noted as // Rutgers

In case you want to rerun rpcgen, I've saved original versions
produced by rpcgen. that will let you separate out code I've added and
put it into a new version. rpcgen was run on RHEL 9.7.

Most of this code was generated by rpcgen. I don't thikn it's
copyrightable.  However rquota_svc and rquota_server contain Rutgers
code. There are a few lines taken from the normal upstream source for
quota, which is under the GPL. If you're being very careful about
licensing, there's a reasonable chance that that causes this
application to be covered by the GPL.

The original contains a GPL notice by no copyright, so it's unclear to
me whether the GPL restriction is actually enforceable. I am not
adding any restrictions to that.



